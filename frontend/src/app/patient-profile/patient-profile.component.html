<div class="container">
    <div class="profile-card">
        <h2 class="profile-heading">Additional information</h2>
        <form class="profile-form" name="form" (ngSubmit)="f.form.valid && updateProfile()" #f="ngForm" novalidate>
            <!-- Full Name -->
            <div class="form-group">
                <label for="fullname">Full Name:</label>
                <input type="text" class="form-control" name="fullname" [(ngModel)]="patient.fullname" minlength="3" maxlength="20" required #fullname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && fullname.errors }" />
                <div class="error" *ngIf="fullname.errors?.['required'] && (fullname.dirty || f.submitted)">Name is required!</div>
                <div class="error" *ngIf="fullname.errors?.['minlength'] && (fullname.dirty || f.submitted)">Name must be at least 3 characters</div>
                <div class="error" *ngIf="fullname.errors?.['maxlength'] && (fullname.dirty || f.submitted)">Name must be at most 20 characters</div>
            </div>

            <!-- Age -->
            <div class="form-group">
                <label for="age">Age:</label>
                <input type="number" class="form-control" id="age" name="age" [(ngModel)]="patient.age" required #age="ngModel" [ngClass]="{ 'is-invalid': f.submitted && age.errors }" />
                <div class="error" *ngIf="age.errors?.['required'] && (age.dirty || f.submitted)">Valid age is required!</div>
            </div>

            <!-- Sex -->
            <div class="form-group">
                <label for="sex">Sex:</label>
                <select class="form-control" id="sex" name="sex" [(ngModel)]="patient.sex" required #sex="ngModel" [ngClass]="{ 'is-invalid': f.submitted && sex.errors }">
                    <option value="" disabled>Select your sex</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
                <div class="error" *ngIf="sex.errors?.['required'] && (sex.dirty || f.submitted)">Sex is required!</div>
            </div>

            <!-- Height -->
            <div class="form-group">
                <label for="height">Height (cm):</label>
                <input type="number" class="form-control" id="height" name="height" [(ngModel)]="patient.height" placeholder="Enter height" required #height="ngModel" [ngClass]="{ 'is-invalid': f.submitted && height.errors }" />
                <div class="error" *ngIf="height.errors?.['required'] && (height.dirty || f.submitted)">Height is required!</div>
            </div>

            <!-- Weight -->
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" class="form-control" id="weight" name="weight" [(ngModel)]="patient.weight" placeholder="Enter weight" required #weight="ngModel" [ngClass]="{ 'is-invalid': f.submitted && weight.errors }" />
                <div class="error" *ngIf="weight.errors?.['required'] && (weight.dirty || f.submitted)">Weight is required!</div>
            </div>

            <!-- Allergies -->
            <div class="form-group">
                <label for="allergies">Allergies:</label>
                <textarea class="form-control" id="allergies" name="allergies" [(ngModel)]="patient.allergies" rows="3" placeholder="Enter allergies"></textarea>
            </div>

            <!-- Phone Number -->
            <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="tel" class="form-control" id="phone" name="phone" [(ngModel)]="patient.phone" required #phone="ngModel" [ngClass]="{ 'is-invalid': f.submitted && phone.errors }" />
                <div class="error" *ngIf="phone.errors?.['required'] && (phone.dirty || f.submitted)">Phone number is required!</div>
            </div>

            <!-- Address -->
            <div class="form-group">
                <label for="address">Address:</label>
                <textarea class="form-control" id="address" name="address" [(ngModel)]="patient.address" rows="3"></textarea>
            </div>

            <div class="form-group">
                <button type="submit" class="update-button">Update Profile</button>
            </div>

            <div *ngIf="updateMessage" class="update-message">
                {{ updateMessage }}
            </div>
        </form>
    </div>
</div>